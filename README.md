# Лабораторная работа №1
## Вариант M3


* **Цель:** Написать калькулятор обратной польской нотации, умеющий работать со скобками.
* **Библиотеки:** *unittest*, *warnings*

* **Допущения:**
    - Поддержка целых и вещественных чисел
    - Унарный минус обозначается как ~
    - Унарный плюс обозначается как @
    - Поддержка скобок для инфиксной записи
    - Операции // и % разрешены только для целых чисел
    - Деление на ноль вызывает ошибку
    - 0^0 считается неопределенностью с предупреждением (возвращает 1)
    - Отрицательное основание с дробной степенью вызывает предупреждение
    - Большие числа вызывают предупреждение о переполнении
    - Ввод каждого токена должен призводиться через пробел, например: ( 3 + 5 )

* **Чему я научился:**
    - Написание простых автотестов с помощью unittest
    - Разделение логики по функциям, классам, модулям
    - Использование стэка для вычисления RPN выражений
    - Обработка математических исключений и предупредений
    - Преобразование инфиксной записи в RPN

### Алгоритм решения
 1. Пользователь вводит выражение(или q, для выхода из калькулятора)
 2. Если в выражении есть скобки, оно преобразуется в RPN
 3. Разбиение выражения на токены
 4. Токены обрабатываются слева направо из стека:
     - Числа помещаются в стек.
     - Операторы извлекают нужное кол-во операндов из стека, выполнют оперцаию и возвращают результат в стек
 5. Производится проверка того, что в стеке остался 1 элемент, являющийся результатом выражения
 6. Результат возвращается пользователю.

### Особенности реализации
 1. Токенизатор обрабатывает целые и вещественные числа, операторы и выражения со скобками
 2. Унарный минус является одновременно частью токена (-5) и оператором (5 ~)

### Синтаксис
 - Запись в обратной польской нотации: 2 3 +
 - Если пользователь хочет ввести выражение со скобками, то ввод должен выглядеть так: ( 2 + 3 ) * 5
 - Унарный минус обозначается как "-5" или как "5 ~"
 - Список поддерживаемых операций:
    * Бинарные: +, -, *, //, %, /, **
    * Унарные: ~, @

## Инструкция к использованию
 1. Клонирование репозитория:
    - git clone https://github.com/MORTO0O/rpn_calculator
    - cd /rpn_calculator
 2. Создание виртуального окружения:
    - python -m venv venv
    - source venv\Scripts\activate
 3. Установка зависимостей:
    - pip install -r requirements.txt
 4. Установка pre-commit:
    - pre-commit install
 5. Запуск калькулятора:
    - cd src
    - python main.py
 6. Запуск тестов:
    - python -m unittest discover -s tests -v
